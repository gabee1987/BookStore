<div class="book-list-container">
  <h1 class="header">Book List</h1>
  <div class="actions">
    <button mat-raised-button (click)="openAddBookModal()">Add New Book</button>
  </div>
  <div class="table-wrapper">
    <mat-table [dataSource]="books" class="mat-elevation-z8 book-table">
      <!-- Cover Column -->
      <ng-container matColumnDef="cover">
        <mat-header-cell *matHeaderCellDef> Cover </mat-header-cell>
        <mat-cell *matCellDef="let book">
          <img [ngSrc]="book.imageUrl" width="50" height="80" alt="Cover" class="thumbnail" />
        </mat-cell>
      </ng-container>

      <!-- Title Column -->
      <ng-container matColumnDef="title">
        <mat-header-cell *matHeaderCellDef> Title </mat-header-cell>
        <mat-cell *matCellDef="let book"> {{ book.title }} </mat-cell>
      </ng-container>

      <!-- Author Column -->
      <ng-container matColumnDef="author">
        <mat-header-cell *matHeaderCellDef> Author </mat-header-cell>
        <mat-cell *matCellDef="let book"> {{ book.author }} </mat-cell>
      </ng-container>

      <!-- Actions Column -->
      <ng-container matColumnDef="actions">
        <mat-header-cell *matHeaderCellDef> Actions </mat-header-cell>
        <mat-cell *matCellDef="let book">
          <button
            mat-icon-button
            color="primary"
            [routerLink]="['/book', book.id]"
            matTooltip="View Details"
          >
            <mat-icon>visibility</mat-icon>
          </button>
          <button
            mat-icon-button
            color="accent"
            (click)="editBookModal(book.id)"
            matTooltip="Edit"
          >
            <mat-icon>edit</mat-icon>
          </button>
          <button
            mat-icon-button
            color="warn"
            (click)="deleteBook(book.id!)"
            matTooltip="Delete"
          >
            <mat-icon>delete</mat-icon>
          </button>
        </mat-cell>
      </ng-container>

      <mat-header-row
        *matHeaderRowDef="['cover', 'title', 'author', 'actions']"
      ></mat-header-row>
      <mat-row
        *matRowDef="let row; columns: ['cover', 'title', 'author', 'actions']"
      ></mat-row>
    </mat-table>
  </div>
</div>
